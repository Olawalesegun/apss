@using APSS.Web.Dtos
@model APSS.Web.Dtos.SurveyEntryDto
<div class="container-fluid px-3 py-3  mx-4 my-1">
    <div class="col-sm-6">
        <div class="d-flex justify-content-center">
            <h4 >@Html.DisplayNameFor(m=>m.Survey.Name)</h4>
        </div>
         <div class="d-flex justify-content-Left">
            <h4 >@Html.DisplayNameFor(m=>m.Survey.CreatedAt)</h4>
        </div>
        <br />

        <form class=" mt-3 ">
            @foreach (var question in Model.Survey.Questions)
            {
                 <div class="mt-4">
                     @if(question.IsRequired==true){
                    <span class="text-danger">*</span>
                     }
                    <label class="form-label" asp-for="@question.Text"></label>
                @if (question.QuestionType == QuestionTypeDto.TextQuestion)
                    {                
                        <input type="text"  asp-for="@Model.Answers.TextQuestionAnswer!.Answer"  class="form-control" />
                  
                }
               @if (question.QuestionType == QuestionTypeDto.LogicalQuestion)
                {

                    <input type="radio"  asp-for="@Model.Answers.LogicalQuestionAnswer!.Answer" value="true"  class="form-control" />
                    <label>نعم</label>
                    <input type="radio"  asp-for="@Model.Answers.LogicalQuestionAnswer!.Answer" value="false"  class="form-control" />
                    <label>لا</label>
                  
                }
                 
                @if (question.QuestionType == QuestionTypeDto.MultipleChoiceQuestion)
                    {

                        @foreach (var value in question.CandidateAnswers!)
                        {
                         <label >@value.ToString()</label>
                        @if (question.CanMultiSelect)
                        {
                           <input asp-for="@Model.Answers.MultipleChoiceQuestionAnswer!.Answers" type="checkbox" > 
                        }
                        else{
                           <input asp-for="@Model.Answers.MultipleChoiceQuestionAnswer!.Answers" type="radio" > 
                            }
                        }
                    }
                </div>
             @if (question.IsRequired==true)
                {
                    <span asp-validation-for="Answers" class="text-danger "></span>
                }
            }
             <div>
                <button class="btn btn-primary mt-4 mx-1" asp-controller="Survey" asp-action="AddSurvey"> <i class="fa-solid fa-save mx-2"></i><span>حفظ</span>  </button>
                <button class="btn btn-danger mt-4 mx-1" asp-controller="Survey" asp-action="GetSurveys"><i class="fa-solid fa-share mx-2"></i><span>رجوع</span>  </button>
            </div>
        </form>
        </div>
        </div>