@model APSS.Web.Dtos.AnimalGroupDto
@await Html.PartialAsync("_dataNavBar")
<div class="container-fluid">
    <div class="col-sm-5 d-flex mx-lg-4 mx-sm-2">
        <form class=" mt-3 " method="post" id="EditAnimalGroup">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="Id" />
            <!-- 2 column puts for the type  and quantity of animal-->
            <div class="center d-flex justify-content-center mb-2 ">
                <h3 class=" ">
                    تعديل بيانات الحيوان
                </h3>
            </div>
            <div class="row mb-4">
                <div class="my-2">
                    <div class="">
                        <label class="form-label" asp-for="Type"></label>
                        <input type="text" id="animal_type" asp-for="Type" class="form-control" />
                        <span asp-validation-for="Type" style="" class="text-danger col-sm-8 "></span>
                    </div>
                </div>
                <div class="">
                    <div class="">
                        <label class="form-label" asp-for="Quantity"></label>
                        <input type="number" id="Quentity" asp-for="Quantity" class="form-control" />
                        <span asp-validation-for="Quantity" class="text-danger col-sm-8 "></span>
                    </div>
                </div>
            </div>

            <!-- Gender input -->
            <div class="row d-flex  d-inline">
                <div class="col">

                    <h5 class="">
                        @Html.DisplayNameFor(m=>m.Sex):
                    </h5>
                </div>

                @foreach (var item in Enum.GetValues(typeof(APSS.Web.Dtos.AnimalSexDto)))
                {
                    <div class="form-check col ">
                        <input class="form-check-input " type="radio" asp-for="Sex" id="female" value="@Convert.ToInt32(item)" checked />
                        @*<label class="form-check-label" asp-for="@item"></label>*@
                        @Html.Label(item.ToString())
                    </div>
                }
            </div>

            <div class="my-4">
                <!-- Submit button -->
                <button type="submit" onclick="EditAnimalGroup()" class="btn btn-primary   ">تعديل</button>
                <a onClick="history.go(-1); return false;" class="btn btn-link  mx-2" style="background-color:#DCEEFB">الغاء</a>
            </div>
        </form>
    </div>
</div>

<script type="text/javascript">
    function EditAnimalGroup() {
        var data = $("#EditAnimalGroup").serialize();
        console.log(data);
        $.ajax({
            type: 'POST',
            url: '/AnimalGroup/EditAnimalGroup',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8', // when we use .serialize() this generates the data in query string format. this needs the default contentType (default content type is: contentType: 'application/x-www-form-urlencoded; charset=UTF-8') so it is optional, you can remove it
            data: data,
            success: function (result) {
               alert('Successfully received Data ');
                console.log(result);
            },
            error: function () {
               alert('Failed to receive the Data');
                console.log('Failed ');
            }
        })
    }
</script>