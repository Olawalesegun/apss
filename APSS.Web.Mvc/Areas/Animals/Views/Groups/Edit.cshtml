@using APSS.Domain.Entities
@model APSS.Web.Dtos.AnimalGroupListDto
<div class="col-sm-12 col-lg-8 col-md-10 mx-sm-1 d-flex mx-0">
    <form class=" row d-flex justify-content-berween mt-0" method="post" asp-controller="Groups" asp-action="Edit" id="EditAnimalGroup">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="Id" />
        <!-- 2 column puts for the type  and quantity of animal-->
        <h1 class=" fw-light my-3">
            Edit Animal Information
        </h1>
        <div class="mb-4">
            <div class="input-group has-validation">
                <span class="input-group-text"><i class="fa-solid fa-cow"></i></span>
                <div class="form-floating col">
                    <input type="text" id="animal_type" asp-for="Type" placeholder="Type" class="form-control" aria-describedby="typevalidation" required />
                    <label class="form-label" asp-for="Type"></label>
                </div>
                <span asp-validation-for="Type" id="typevalidation" class="d-block invalid-feedback"></span>
            </div>
        </div>
        <div class="mb-4">
            <div class="input-group has-validation">
                <span class="input-group-text">#</span>
                <div class="form-floating col">
                    <input type="text" id="Name" asp-for="Name" class="form-control" aria-describedby="nameValidation" placeholder="Name" required />
                    <label class="form-label" asp-for="Name"></label>
                </div>
                <span asp-validation-for="Name" class="d-block invalid-feedback" id="nameValidation"></span>
            </div>
        </div>
        <div class="mb-4">
            <div class="input-group has-validation">
                <span class="input-group-text"><i class="fa-solid fa-arrow-up-wide-short"></i></span>
                <div class="form-floating flex-grow-1">
                    <input type="number" id="Quentity" asp-for="Quantity" class="form-control" placeholder="quantity" aria-describedby="quantityValidarion" required />
                    <label class="form-label" asp-for="Quantity"></label>
                </div>
                <span asp-validation-for="Quantity" id="quantityValidarion" class="d-block invalid-feedback"></span>
            </div>
        </div>
        <!-- Gender input -->
        <div class=" d-flex justify-content-start d-inline">
            <div class=" me-2">

                <h5 class="">
                    @Html.DisplayNameFor(m=>m.Sex):
                </h5>
            </div>
            <div class="d-flex justify-content-start">
                @foreach (var item in Enum.GetValues<AnimalSex>())
                {
                    if (@item == AnimalSex.Male)
                    {
                        <div class="form-check me-4">
                            <input class="form-check-input " type="radio" asp-for="Sex" id="female" value="@Convert.ToInt32(item)" checked />
                            @*<label class="form-check-label" asp-for="@item"></label>*@
                            @Html.Label(item.ToString())
                        </div>
                    }
                    else
                    {
                        <div class="form-check me-4">
                            <input class="form-check-input " type="radio" asp-for="Sex" id="female" value="@Convert.ToInt32(item)" />
                            @*<label class="form-check-label" asp-for="@item"></label>*@
                            @Html.Label(item.ToString())
                        </div>
                    }
                }
            </div>
        </div>

        <div class="my-4 d-flex justify-content-end">
            <!-- Submit button -->
            <a onClick="history.go(-1); return false;" class="btn btn-link text-decoration-none mx-2" style="background-color:#DCEEFB">Cancel</a>
            <button type="submit" onclick="EditAnimalGroup()" class="btn btn-primary  w-25 ">Edit</button>
        </div>
    </form>
</div>

@*<script type="text/javascript">
    function EditAnimalGroup() {
    var data = $("#EditAnimalGroup").serialize();
    console.log(data);
    $.ajax({
    type: 'POST',
    url: '/Groups/Edit',
    contentType: 'application/x-www-form-urlencoded; charset=UTF-8', // when we use .serialize() this generates the data in query string format. this needs the default contentType (default content type is: contentType: 'application/x-www-form-urlencoded; charset=UTF-8') so it is optional, you can remove it
    data: data,
    success: function (result) {
    alert('Successfully received Data ');
    console.log(result);
    },
    error: function () {
    alert('Failed to receive the Data');
    console.log('Failed ');
    }
    })
    }
    </script>*@